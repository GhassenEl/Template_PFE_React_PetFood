<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PetFood TN - Dashboard Client</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #3498db;
            --primary-dark: #2980b9;
            --primary-light: #ebf5fb;
            --secondary-color: #2ecc71;
            --accent-color: #e74c3c;
            --dark-color: #2c3e50;
            --light-color: #ecf0f1;
            --gray-color: #95a5a6;
            --success-color: #27ae60;
            --danger-color: #e74c3c;
            --warning-color: #f39c12;
            --info-color: #3498db;
            --shadow: 0 4px 12px rgba(52, 152, 219, 0.15);
            --radius: 12px;
            --gradient: linear-gradient(135deg, #3498db, #2c3e50);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(rgba(255,255,255,0.97), rgba(255,255,255,0.97)), 
                        url('https://images.unsplash.com/photo-1591946614720-90a587da4a36?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            color: var(--dark-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .animal-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(52, 152, 219, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(46, 204, 113, 0.08) 0%, transparent 50%),
                url('https://images.unsplash.com/photo-1513360371669-4adf3dd7dff8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80');
            background-size: cover;
            background-position: center;
            opacity: 0.12;
            z-index: -1;
        }

        .container {
            display: flex;
            min-height: 100vh;
            position: relative;
            flex: 1;
        }

        /* ===== SIDEBAR ===== */
        .sidebar {
            width: 280px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow);
            padding: 1.5rem;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            border-right: 3px solid var(--primary-color);
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--primary-light);
        }

        .logo h1 {
            background: var(--gradient);
            
            -webkit-text-fill-color: text;
            font-size: 1.8rem;
            margin-left: 0.5rem;
        }

        .logo i {
            color: var(--primary-color);
            font-size: 2rem;
        }

        .tagline {
            color: var(--primary-color);
            font-style: italic;
            text-align: center;
            margin-bottom: 2rem;
            padding: 0.8rem;
            background: var(--primary-light);
            border-radius: var(--radius);
            border-left: 4px solid var(--primary-color);
        }

        .nav-menu {
            list-style: none;
        }

        .nav-item {
            margin-bottom: 0.5rem;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 0.8rem 1rem;
            color: var(--dark-color);
            text-decoration: none;
            border-radius: var(--radius);
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .nav-link:hover {
            background: var(--primary-light);
            color: var(--primary-color);
            transform: translateX(5px);
            border-color: var(--primary-light);
        }

        .nav-link.active {
            background: var(--primary-color);
            color: white;
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.3);
        }

        .nav-link i {
            width: 24px;
            margin-right: 0.8rem;
            text-align: center;
        }

        .badge {
            background: var(--accent-color);
            color: white;
            font-size: 0.7rem;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            margin-left: auto;
            font-weight: 600;
        }

        .back-to-site {
            display: block;
            background: var(--gradient);
            color: white;
            text-align: center;
            padding: 0.8rem;
            border-radius: var(--radius);
            text-decoration: none;
            margin-top: 2rem;
            font-weight: 600;
            transition: all 0.3s;
            border: 2px solid var(--primary-color);
        }

        .back-to-site:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(52, 152, 219, 0.3);
        }

        /* ===== MAIN CONTENT ===== */
        .main-content {
            flex: 1;
            margin-left: 280px;
            padding: 2rem;
            z-index: 1;
            display: flex;
            flex-direction: column;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            border: 1px solid var(--primary-light);
        }

        .welcome h2 {
            color: var(--dark-color);
            font-size: 1.8rem;
            background: var(--gradient);
            
            -webkit-text-fill-color: text;
        }

        .welcome p {
            color: var(--gray-color);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .notification-btn {
            position: relative;
            background: white;
            border: 2px solid var(--primary-light);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: var(--shadow);
            color: var(--primary-color);
            transition: all 0.3s;
        }

        .notification-btn:hover {
            background: var(--primary-color);
            color: white;
            transform: rotate(15deg);
        }

        .notification-btn .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--accent-color);
            min-width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .user-info {
            display: flex;
            align-items: center;
            background: white;
            padding: 0.5rem 1rem;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            border: 2px solid var(--primary-light);
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            margin-right: 0.8rem;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }

        /* ===== COMPTEUR (CLOUEUR) ===== */
        .counter-container {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: var(--radius);
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            border: 2px solid var(--primary-color);
        }

        .counter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .counter-title {
            font-size: 1.3rem;
            color: var(--primary-color);
            font-weight: 600;
        }

        .counter-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .counter-stat {
            text-align: center;
            padding: 1rem;
            background: var(--primary-light);
            border-radius: var(--radius);
            transition: all 0.3s;
        }

        .counter-stat:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.2);
        }

        .counter-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .counter-label {
            font-size: 0.9rem;
            color: var(--gray-color);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* ===== DASHBOARD CARDS ===== */
        .dashboard-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--primary-light);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(52, 152, 219, 0.2);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .card-title {
            font-size: 1.2rem;
            color: var(--dark-color);
            font-weight: 600;
        }

        .card-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary-light);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
            font-size: 1.5rem;
        }

        .card-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .card-change {
            display: flex;
            align-items: center;
            color: var(--success-color);
            font-weight: 600;
        }

        .card-change i {
            margin-right: 0.3rem;
        }

        .progress-bar {
            height: 10px;
            background: var(--primary-light);
            border-radius: 5px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient);
            width: 75%;
            border-radius: 5px;
        }

        /* ===== SECTION PAIEMENT ===== */
        .payment-section {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: var(--radius);
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            border: 2px solid var(--secondary-color);
        }

        .payment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--primary-light);
        }

        .payment-title {
            font-size: 1.3rem;
            color: var(--dark-color);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .payment-method {
            background: white;
            padding: 1rem;
            border-radius: var(--radius);
            border: 2px solid var(--primary-light);
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
        }

        .payment-method:hover {
            border-color: var(--primary-color);
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.2);
        }

        .payment-method i {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .payment-method.active {
            border-color: var(--secondary-color);
            background: var(--primary-light);
        }

        /* ===== SECTIONS ===== */
        .section {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
            border: 1px solid var(--primary-light);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--primary-light);
        }

        .section-title {
            font-size: 1.3rem;
            color: var(--dark-color);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-title i {
            color: var(--primary-color);
        }

        .btn {
            padding: 0.6rem 1.2rem;
            border: none;
            border-radius: var(--radius);
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: var(--gradient);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(52, 152, 219, 0.3);
        }

        .btn-secondary {
            background: var(--primary-light);
            color: var(--primary-color);
            border: 2px solid var(--primary-light);
        }

        .btn-secondary:hover {
            background: var(--primary-color);
            color: white;
        }

        /* ===== TABLE ===== */
        .table-container {
            overflow-x: auto;
            border-radius: var(--radius);
            border: 1px solid var(--primary-light);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px;
        }

        th {
            background: var(--primary-light);
            color: var(--primary-color);
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid var(--primary-color);
        }

        td {
            padding: 1rem;
            border-bottom: 1px solid var(--primary-light);
        }

        tr:hover {
            background: var(--primary-light);
        }

        .status {
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            display: inline-block;
        }

        .status-delivered {
            background: #d4efdf;
            color: #27ae60;
            border: 1px solid #27ae60;
        }

        .status-pending {
            background: #fdebd0;
            color: #f39c12;
            border: 1px solid #f39c12;
        }

        .status-processing {
            background: #d6eaf8;
            color: #3498db;
            border: 1px solid #3498db;
        }

        .action-btn {
            background: var(--primary-light);
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            color: var(--primary-color);
            margin: 0 0.2rem;
            transition: all 0.3s;
        }

        .action-btn:hover {
            background: var(--primary-color);
            color: white;
            transform: scale(1.1);
        }

        /* ===== PRODUCT IMAGES ===== */
        .product-image {
            width: 50px;
            height: 50px;
            border-radius: 8px;
            object-fit: cover;
            border: 2px solid var(--primary-light);
            transition: all 0.3s;
        }

        .product-image:hover {
            transform: scale(1.5);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .product-card {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        /* ===== FORM MODAL ===== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(44, 62, 80, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: white;
            border-radius: var(--radius);
            padding: 2rem;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border: 3px solid var(--primary-color);
            animation: slideUp 0.3s;
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--primary-light);
        }

        .modal-title {
            color: var(--primary-color);
            font-size: 1.5rem;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray-color);
            transition: all 0.3s;
        }

        .close-modal:hover {
            color: var(--primary-color);
            transform: rotate(90deg);
        }

        .form-group {
            margin-bottom: 1.2rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--dark-color);
            font-weight: 600;
        }

        input, select, textarea {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid var(--primary-light);
            border-radius: var(--radius);
            font-size: 1rem;
            transition: all 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 2px solid var(--primary-light);
        }

        /* ===== NOTIFICATIONS PANEL ===== */
        .notifications-panel {
            display: none;
            position: fixed;
            top: 100px;
            right: 2rem;
            width: 400px;
            background: white;
            border-radius: var(--radius);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            z-index: 100;
            border: 2px solid var(--primary-color);
            max-height: 500px;
            overflow-y: auto;
        }

        .notification-item {
            padding: 1rem;
            border-bottom: 1px solid var(--primary-light);
            display: flex;
            align-items: flex-start;
            transition: all 0.3s;
        }

        .notification-item:hover {
            background: var(--primary-light);
        }

        .notification-item.unread {
            background: var(--primary-light);
            border-left: 4px solid var(--primary-color);
        }

        .notification-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            color: white;
            flex-shrink: 0;
            font-size: 1.2rem;
        }

        .notification-icon.success {
            background: var(--success-color);
        }

        .notification-icon.warning {
            background: var(--warning-color);
        }

        .notification-icon.info {
            background: var(--info-color);
        }

        /* ===== FOOTER ===== */
        .footer {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 3rem 2rem 1.5rem;
            margin-top: auto;
            margin-left: 280px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            color: white;
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid rgba(255,255,255,0.2);
        }

        .footer-section p {
            color: rgba(255,255,255,0.8);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .working-hours {
            list-style: none;
        }

        .working-hours li {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.9);
        }

        .social-icons {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .social-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: all 0.3s;
            font-size: 1.2rem;
        }

        .social-icon:hover {
            background: white;
            color: var(--primary-color);
            transform: translateY(-3px);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255,255,255,0.2);
            color: rgba(255,255,255,0.7);
            font-size: 0.9rem;
        }

        /* ===== TABS ===== */
        .tabs {
            display: flex;
            border-bottom: 2px solid var(--primary-light);
            margin-bottom: 1.5rem;
        }

        .tab-btn {
            padding: 0.8rem 1.5rem;
            background: none;
            border: none;
            cursor: pointer;
            color: var(--gray-color);
            font-weight: 600;
            position: relative;
            transition: all 0.3s;
        }

        .tab-btn:hover {
            color: var(--primary-color);
        }

        .tab-btn.active {
            color: var(--primary-color);
        }

        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--gradient);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s;
        }

        .tab-content.active {
            display: block;
        }

        /* ===== PET BACKGROUND ELEMENTS ===== */
        .pet-decoration {
            position: fixed;
            z-index: -1;
            opacity: 0.1;
        }

        .pet-1 {
            top: 10%;
            right: 5%;
            font-size: 10rem;
            color: var(--primary-color);
        }

        .pet-2 {
            bottom: 10%;
            left: 5%;
            font-size: 8rem;
            color: var(--secondary-color);
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 1024px) {
            .sidebar {
                width: 250px;
            }
            .main-content {
                margin-left: 250px;
            }
            .footer {
                margin-left: 250px;
            }
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            .sidebar {
                position: relative;
                width: 100%;
                height: auto;
                margin-bottom: 1rem;
            }
            .main-content {
                margin-left: 0;
                padding: 1rem;
            }
            .footer {
                margin-left: 0;
            }
            .dashboard-cards {
                grid-template-columns: 1fr;
            }
            .notifications-panel {
                width: 90%;
                right: 5%;
            }
            .counter-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .counter-stats {
                grid-template-columns: 1fr;
            }
            .payment-methods {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Animal Background -->
    <div class="animal-bg"></div>
    
    <!-- Pet Decorations -->
    <div class="pet-decoration pet-1">
        <i class="fas fa-paw"></i>
    </div>
    <div class="pet-decoration pet-2">
        <i class="fas fa-cat"></i>
    </div>
    
    <div class="container">
        <!-- SIDEBAR -->
        <aside class="sidebar">
            <div class="logo">
                <i class="fas fa-paw"></i>
                <h1>PetFood TN</h1>
            </div>
            <p class="tagline">Le bonheur de vos animaux, notre priorité !</p>
            
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#" class="nav-link active" data-tab="dashboard">
                        <i class="fas fa-tachometer-alt"></i> Tableau de bord
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-tab="clients">
                        <i class="fas fa-users"></i> Clients
                        <span class="badge" id="clients-badge">3</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-tab="products">
                        <i class="fas fa-box-open"></i> Produits
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-tab="orders">
                        <i class="fas fa-shopping-cart"></i> Commandes
                        <span class="badge" id="orders-badge">5</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-tab="payment">
                        <i class="fas fa-credit-card"></i> Paiements
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-tab="history">
                        <i class="fas fa-history"></i> Historique
                    </a>
                </li>
            </ul>
            
            <a href="#" class="back-to-site">
                <i class="fas fa-arrow-left"></i> Retour au site
            </a>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="main-content">
            <!-- HEADER -->
            <header class="header">
                <div class="welcome">
                    <h2>Bienvenue, EL Jezi Ghassen !</h2>
                    <p>Vous gérez <strong style="color: var(--primary-color);">189 clients tunisiens</strong> et <strong style="color: var(--primary-color);">48 commandes aujourd'hui</strong></p>
                </div>
                
                <div class="header-actions">
                    <button class="notification-btn" id="notificationBtn">
                        <i class="fas fa-bell"></i>
                        <span class="badge" id="notification-count">3</span>
                    </button>
                    
                    <div class="user-info">
                        <div class="user-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div>
                            <div style="font-weight: 600; color: var(--primary-color);">EL Jezi Ghassen</div>
                            <div style="font-size: 0.8rem; color: var(--gray-color);">Administrateur</div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- NOTIFICATIONS PANEL -->
            <div class="notifications-panel" id="notificationsPanel">
                <div class="section-header" style="margin: 0; padding: 1rem;">
                    <h3 class="section-title"><i class="fas fa-bell"></i> Notifications</h3>
                    <button class="btn btn-secondary" id="markAllRead">Tout marquer comme lu</button>
                </div>
                <div id="notifications-list">
                    <!-- Notifications will be loaded here -->
                </div>
            </div>

            <!-- DASHBOARD TAB -->
            <div id="dashboard" class="tab-content active">
                <!-- COMPTEUR (CLOUEUR) -->
                <div class="counter-container">
                    <div class="counter-header">
                        <h3 class="counter-title"><i class="fas fa-chart-bar"></i> Compteur en Temps Réel</h3>
                        <div style="color: var(--primary-color); font-weight: 600;">
                            <i class="fas fa-sync-alt"></i> Mise à jour: <span id="last-update">Maintenant</span>
                        </div>
                    </div>
                    
                    <div class="counter-stats">
                        <div class="counter-stat">
                            <div class="counter-number" id="today-orders">48</div>
                            <div class="counter-label">Commandes Aujourd'hui</div>
                        </div>
                        <div class="counter-stat">
                            <div class="counter-number" id="pending-orders">5</div>
                            <div class="counter-label">En Attente</div>
                        </div>
                        <div class="counter-stat">
                            <div class="counter-number" id="total-clients">189</div>
                            <div class="counter-label">Clients Actifs</div>
                        </div>
                        <div class="counter-stat">
                            <div class="counter-number" id="month-revenue">2.845</div>
                            <div class="counter-label">Revenus (DT)</div>
                        </div>
                    </div>
                </div>

                <!-- STATS CARDS -->
                <div class="dashboard-cards">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Clients Actifs</h3>
                            <div class="card-icon">
                                <i class="fas fa-users"></i>
                            </div>
                        </div>
                        <div class="card-value">189</div>
                        <div class="card-change">
                            <i class="fas fa-arrow-up"></i> +15 ce mois
                        </div>
                        <div style="color: var(--gray-color); font-size: 0.9rem; margin-top: 0.5rem;">Clients tunisiens</div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Commandes Aujourd'hui</h3>
                            <div class="card-icon">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                        </div>
                        <div class="card-value">48</div>
                        <div class="card-change">
                            <i class="fas fa-arrow-up"></i> +12% vs hier
                        </div>
                        <div style="color: var(--gray-color); font-size: 0.9rem; margin-top: 0.5rem;">Commandes traitées</div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Chiffre d'Affaires</h3>
                            <div class="card-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                        </div>
                        <div class="card-value">2.845 DT</div>
                        <div class="progress-bar">
                            <div class="progress-fill"></div>
                        </div>
                        <div class="card-change">
                            <i class="fas fa-arrow-up"></i> +8.5% ce mois
                        </div>
                        <div style="color: var(--gray-color); font-size: 0.9rem; margin-top: 0.5rem;">Objectif: 3.800 DT</div>
                    </div>
                </div>

                <!-- RECENT ACTIVITY -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title"><i class="fas fa-bolt"></i> Activité Récente</h3>
                        <button class="btn btn-primary" onclick="location.reload()">
                            <i class="fas fa-sync-alt"></i> Actualiser
                        </button>
                    </div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Client</th>
                                    <th>Produit</th>
                                    <th>Date</th>
                                    <th>Montant</th>
                                    <th>Statut</th>
                                </tr>
                            </thead>
                            <tbody id="recent-activity">
                                <!-- Recent activity will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- CLIENTS TAB -->
            <div id="clients" class="tab-content">
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title"><i class="fas fa-users"></i> Gestion des Clients</h3>
                        <button class="btn btn-primary" id="addClientBtn">
                            <i class="fas fa-plus"></i> Ajouter un client
                        </button>
                    </div>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nom</th>
                                    <th>Email</th>
                                    <th>Téléphone</th>
                                    <th>Ville</th>
                                    <th>Commandes</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="clients-table">
                                <!-- Clients will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- PRODUCTS TAB -->
            <div id="products" class="tab-content">
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title"><i class="fas fa-box-open"></i> Gestion des Produits</h3>
                        <button class="btn btn-primary" id="addProductBtn">
                            <i class="fas fa-plus"></i> Ajouter un produit
                        </button>
                    </div>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Image</th>
                                    <th>Nom</th>
                                    <th>Catégorie</th>
                                    <th>Prix (DT)</th>
                                    <th>Stock</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="products-table">
                                <!-- Products will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- ORDERS TAB -->
            <div id="orders" class="tab-content">
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title"><i class="fas fa-shopping-cart"></i> Gestion des Commandes</h3>
                        <button class="btn btn-primary" id="addOrderBtn">
                            <i class="fas fa-plus"></i> Nouvelle commande
                        </button>
                    </div>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>N° Commande</th>
                                    <th>Client</th>
                                    <th>Date</th>
                                    <th>Total (DT)</th>
                                    <th>Statut</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="orders-table">
                                <!-- Orders will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- PAYMENT TAB -->
            <div id="payment" class="tab-content">
                <div class="payment-section">
                    <div class="payment-header">
                        <h3 class="payment-title"><i class="fas fa-credit-card"></i> Gestion des Paiements</h3>
                        <span style="color: var(--success-color); font-weight: 600;">
                            <i class="fas fa-check-circle"></i> Sécurisé & Rapide
                        </span>
                    </div>
                    
                    <div class="counter-stats">
                        <div class="counter-stat">
                            <div class="counter-number" id="total-payments">124</div>
                            <div class="counter-label">Paiements Total</div>
                        </div>
                        <div class="counter-stat">
                            <div class="counter-number" id="pending-payments">3</div>
                            <div class="counter-label">En Attente</div>
                        </div>
                        <div class="counter-stat">
                            <div class="counter-number" id="success-payments">121</div>
                            <div class="counter-label">Réussis</div>
                        </div>
                        <div class="counter-stat">
                            <div class="counter-number" id="avg-amount">45.6</div>
                            <div class="counter-label">Moyenne (DT)</div>
                        </div>
                    </div>
                    
                    <h4 style="margin: 1.5rem 0 1rem; color: var(--dark-color);">Méthodes de Paiement Disponibles</h4>
                    <div class="payment-methods">
                        <div class="payment-method active" onclick="selectPaymentMethod('carte')">
                            <i class="fas fa-credit-card"></i>
                            <div style="font-weight: 600;">Carte Bancaire</div>
                            <div style="font-size: 0.9rem; color: var(--gray-color); margin-top: 0.3rem;">Visa, Mastercard</div>
                        </div>
                        <div class="payment-method" onclick="selectPaymentMethod('paypal')">
                            <i class="fab fa-paypal"></i>
                            <div style="font-weight: 600;">PayPal</div>
                            <div style="font-size: 0.9rem; color: var(--gray-color); margin-top: 0.3rem;">Paiement sécurisé</div>
                        </div>
                        <div class="payment-method" onclick="selectPaymentMethod('livraison')">
                            <i class="fas fa-money-bill-wave"></i>
                            <div style="font-weight: 600;">Paiement à la Livraison</div>
                            <div style="font-size: 0.9rem; color: var(--gray-color); margin-top: 0.3rem;">Espèces à la réception</div>
                        </div>
                        <div class="payment-method" onclick="selectPaymentMethod('mobile')">
                            <i class="fas fa-mobile-alt"></i>
                            <div style="font-weight: 600;">Mobile Money</div>
                            <div style="font-size: 0.9rem; color: var(--gray-color); margin-top: 0.3rem;">Flouci, TT Cash</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 2rem; padding: 1.5rem; background: var(--primary-light); border-radius: var(--radius);">
                        <h4 style="margin-bottom: 1rem; color: var(--primary-color);">Effectuer un Paiement</h4>
                        <div class="form-group">
                            <label for="paymentAmount">Montant (DT)</label>
                            <input type="number" id="paymentAmount" placeholder="0.00" step="0.01">
                        </div>
                        <div class="form-group">
                            <label for="paymentReference">Référence de Commande</label>
                            <input type="text" id="paymentReference" placeholder="Ex: #1001">
                        </div>
                        <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                            <button class="btn btn-primary" onclick="processPayment()">
                                <i class="fas fa-lock"></i> Payer Maintenant
                            </button>
                            <button class="btn btn-secondary" onclick="generateInvoice()">
                                <i class="fas fa-file-invoice"></i> Générer Facture
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title"><i class="fas fa-history"></i> Historique des Paiements</h3>
                        <button class="btn btn-secondary" onclick="exportPayments()">
                            <i class="fas fa-download"></i> Exporter
                        </button>
                    </div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Date</th>
                                    <th>Client</th>
                                    <th>Montant (DT)</th>
                                    <th>Méthode</th>
                                    <th>Statut</th>
                                </tr>
                            </thead>
                            <tbody id="payments-table">
                                <!-- Payments will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- HISTORY TAB -->
            <div id="history" class="tab-content">
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title"><i class="fas fa-history"></i> Historique des Activités</h3>
                        <div>
                            <button class="btn btn-secondary" id="filterToday">
                                <i class="fas fa-calendar-day"></i> Aujourd'hui
                            </button>
                            <button class="btn btn-secondary" id="filterWeek">
                                <i class="fas fa-calendar-week"></i> Cette semaine
                            </button>
                            <button class="btn btn-secondary" id="filterMonth">
                                <i class="fas fa-calendar-alt"></i> Ce mois
                            </button>
                        </div>
                    </div>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Utilisateur</th>
                                    <th>Action</th>
                                    <th>Détails</th>
                                </tr>
                            </thead>
                            <tbody id="history-table">
                                <!-- History will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3><i class="fas fa-paw"></i> PetFood TN</h3>
                <p>Votre partenaire de confiance pour la nourriture fraîche de vos animaux de compagnie en Tunisie.</p>
                <p>Livraison rapide à domicile dans toutes les villes de Tunisie.</p>
                <div class="social-icons">
                    <a href="#" class="social-icon" title="Facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" class="social-icon" title="Instagram">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#" class="social-icon" title="Twitter">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="social-icon" title="WhatsApp">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                </div>
            </div>
            
            <div class="footer-section">
                <h3><i class="fas fa-clock"></i> Horaires de Travail</h3>
                <ul class="working-hours">
                    <li>
                        <span>Lundi - Vendredi</span>
                        <span>8:00 - 18:00</span>
                    </li>
                    <li>
                        <span>Samedi</span>
                        <span>9:00 - 16:00</span>
                    </li>
                    <li>
                        <span>Dimanche</span>
                        <span>10:00 - 14:00</span>
                    </li>
                    <li>
                        <span>Livraisons</span>
                        <span>7j/7 jusqu'à 20h</span>
                    </li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3><i class="fas fa-map-marker-alt"></i> Informations</h3>
                <p><i class="fas fa-calendar-alt"></i> Depuis: <strong>2015</strong></p>
                <p><i class="fas fa-user-check"></i> Clients satisfaits: <strong>2,500+</strong></p>
                <p><i class="fas fa-box"></i> Commandes livrées: <strong>15,000+</strong></p>
                <p><i class="fas fa-truck"></i> Zones de livraison: <strong>Toute la Tunisie</strong></p>
            </div>
            
            <div class="footer-section">
                <h3><i class="fas fa-headset"></i> Contact & Support</h3>
                <p><i class="fas fa-phone"></i> +216 70 123 456</p>
                <p><i class="fas fa-envelope"></i> contact@petfoodtn.tn</p>
                <p><i class="fas fa-map-pin"></i> Rue de l'Agriculture, Tunis 1002</p>
                <p style="margin-top: 1rem; font-size: 0.9rem; color: rgba(255,255,255,0.7);">
                    Service client disponible 7j/7 de 8h à 22h
                </p>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2024 PetFood TN. Tous droits réservés. | 
                <a href="#" style="color: white; text-decoration: none;">Politique de confidentialité</a> | 
                <a href="#" style="color: white; text-decoration: none;">Conditions d'utilisation</a>
            </p>
            <p style="margin-top: 0.5rem; font-size: 0.8rem;">
                <i class="fas fa-shield-alt"></i> Paiements 100% sécurisés | 
                <i class="fas fa-leaf"></i> Produits frais garantis | 
                <i class="fas fa-heart"></i> Engagement qualité
            </p>
        </div>
    </footer>

    <!-- MODALS -->
    <div class="modal" id="clientModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">Ajouter un client</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="clientForm">
                <input type="hidden" id="clientId">
                <div class="form-group">
                    <label for="clientName">Nom complet *</label>
                    <input type="text" id="clientName" required placeholder="Ex: Ali Ben Salah">
                </div>
                <div class="form-group">
                    <label for="clientEmail">Email *</label>
                    <input type="email" id="clientEmail" required placeholder="exemple@email.com">
                </div>
                <div class="form-group">
                    <label for="clientPhone">Téléphone *</label>
                    <input type="tel" id="clientPhone" required placeholder="XX XXX XXX">
                </div>
                <div class="form-group">
                    <label for="clientAddress">Adresse</label>
                    <input type="text" id="clientAddress" placeholder="Adresse complète">
                </div>
                <div class="form-group">
                    <label for="clientCity">Ville</label>
                    <select id="clientCity">
                        <option value="Tunis">Tunis</option>
                        <option value="Sfax">Sfax</option>
                        <option value="Sousse">Sousse</option>
                        <option value="Gabès">Gabès</option>
                        <option value="Nabeul">Nabeul</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary close-modal">Annuler</button>
                    <button type="submit" class="btn btn-primary">Enregistrer</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal" id="productModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Ajouter un produit</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="productForm">
                <input type="hidden" id="productId">
                <div class="form-group">
                    <label for="productName">Nom du produit *</label>
                    <input type="text" id="productName" required placeholder="Ex: Croquettes Premium">
                </div>
                <div class="form-group">
                    <label for="productImage">Image URL</label>
                    <input type="url" id="productImage" placeholder="URL de l'image">
                </div>
                <div class="form-group">
                    <label for="productCategory">Catégorie *</label>
                    <select id="productCategory" required>
                        <option value="">Sélectionner</option>
                        <option value="Chien">Chien</option>
                        <option value="Chat">Chat</option>
                        <option value="Oiseau">Oiseau</option>
                        <option value="Rongeur">Rongeur</option>
                        <option value="Poisson">Poisson</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="productPrice">Prix (DT) *</label>
                    <input type="number" id="productPrice" step="0.01" required placeholder="0.00">
                </div>
                <div class="form-group">
                    <label for="productStock">Stock *</label>
                    <input type="number" id="productStock" required placeholder="Quantité en stock">
                </div>
                <div class="form-group">
                    <label for="productDescription">Description</label>
                    <textarea id="productDescription" rows="3" placeholder="Description du produit..."></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary close-modal">Annuler</button>
                    <button type="submit" class="btn btn-primary">Enregistrer</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Données initiales avec images
        let clients = [
            { id: 1, name: "Ali Ben Salah", email: "ali@example.com", phone: "12345678", city: "Tunis", orders: 5 },
            { id: 2, name: "Fatma Trabelsi", email: "fatma@example.com", phone: "98765432", city: "Sfax", orders: 3 },
            { id: 3, name: "Mohamed Amri", email: "mohamed@example.com", phone: "55667788", city: "Sousse", orders: 7 }
        ];

        let products = [
            { 
                id: 1, 
                name: "Croquettes Premium Chien", 
                category: "Chien", 
                price: 45.5, 
                stock: 120,
                image: "https://images.unsplash.com/photo-1592924357228-91a4daadcfea?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                description: "Croquettes premium pour chiens adultes"
            },
            { 
                id: 2, 
                name: "Pâtée Chat Adulte", 
                category: "Chat", 
                price: 12.9, 
                stock: 80,
                image: "https://images.unsplash.com/photo-1574158622682-e40e69881006?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                description: "Pâtée savoureuse pour chats adultes"
            },
            { 
                id: 3, 
                name: "Graines pour Oiseaux", 
                category: "Oiseau", 
                price: 8.5, 
                stock: 200,
                image: "https://images.unsplash.com/photo-1551085254-e96b210db58a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                description: "Mélange de graines pour oiseaux exotiques"
            },
            { 
                id: 4, 
                name: "Foin pour Rongeurs", 
                category: "Rongeur", 
                price: 6.9, 
                stock: 150,
                image: "https://images.unsplash.com/photo-1597145128500-8c8489798a42?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                description: "Foin frais pour lapins et rongeurs"
            }
        ];

        let orders = [
            { id: 1001, clientId: 1, clientName: "Ali Ben Salah", date: "2024-01-15", total: 89.5, status: "delivered" },
            { id: 1002, clientId: 2, clientName: "Fatma Trabelsi", date: "2024-01-16", total: 34.8, status: "processing" },
            { id: 1003, clientId: 3, clientName: "Mohamed Amri", date: "2024-01-17", total: 156.2, status: "pending" }
        ];

        let payments = [
            { id: 1, date: "2024-01-17", client: "Ali Ben Salah", amount: 89.5, method: "carte", status: "success" },
            { id: 2, date: "2024-01-16", client: "Fatma Trabelsi", amount: 34.8, method: "mobile", status: "success" },
            { id: 3, date: "2024-01-15", client: "Mohamed Amri", amount: 156.2, method: "livraison", status: "pending" }
        ];

        let history = [
            { date: "2024-01-17 10:30", user: "EL Jezi Ghassen", action: "Ajout client", details: "Nouveau client: Sami Khemiri" },
            { date: "2024-01-17 09:15", user: "EL Jezi Ghassen", action: "Commande", details: "Commande #1003 créée" },
            { date: "2024-01-16 16:45", user: "EL Jezi Ghassen", action: "Mise à jour produit", details: "Stock mis à jour pour Croquettes Premium" }
        ];

        let notifications = [
            { id: 1, type: "success", message: "Nouvelle commande reçue #1005", time: "Il y a 10 minutes", read: false },
            { id: 2, type: "warning", message: "Stock faible pour Pâtée Chat (15 restants)", time: "Il y a 2 heures", read: false },
            { id: 3, type: "info", message: "Nouveau client inscrit: Leila Mansour", time: "Il y a 5 heures", read: false }
        ];

        let selectedPaymentMethod = "carte";

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            // Charger les données
            loadClients();
            loadProducts();
            loadOrders();
            loadPayments();
            loadHistory();
            loadRecentActivity();
            loadNotifications();
            updateCounter();
            updateNotificationCount();
            updateClientsBadge();
            updateOrdersBadge();

            // Navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const tabId = this.getAttribute('data-tab');
                    
                    // Mettre à jour la navigation active
                    document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Afficher le bon onglet
                    document.querySelectorAll('.tab-content').forEach(tab => {
                        tab.classList.remove('active');
                    });
                    document.getElementById(tabId).classList.add('active');
                });
            });

            // Boutons d'ajout
            document.getElementById('addClientBtn').addEventListener('click', () => openModal('clientModal'));
            document.getElementById('addProductBtn').addEventListener('click', () => openModal('productModal'));
            document.getElementById('addOrderBtn').addEventListener('click', () => {
                // Préparer le formulaire de commande
                prepareOrderForm();
                openModal('orderModal');
            });

            // Fermer les modales
            document.querySelectorAll('.close-modal').forEach(btn => {
                btn.addEventListener('click', closeAllModals);
            });

            // Fermer modales en cliquant à l'extérieur
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) closeAllModals();
                });
            });

            // Gestion des formulaires
            document.getElementById('clientForm').addEventListener('submit', saveClient);
            document.getElementById('productForm').addEventListener('submit', saveProduct);

            // Notifications
            document.getElementById('notificationBtn').addEventListener('click', toggleNotifications);
            document.getElementById('markAllRead').addEventListener('click', markAllNotificationsAsRead);

            // Filtres historique
            document.getElementById('filterToday').addEventListener('click', () => filterHistory('today'));
            document.getElementById('filterWeek').addEventListener('click', () => filterHistory('week'));
            document.getElementById('filterMonth').addEventListener('click', () => filterHistory('month'));

            // Fermer les notifications en cliquant à l'extérieur
            document.addEventListener('click', function(e) {
                const panel = document.getElementById('notificationsPanel');
                if (!e.target.closest('.notifications-panel') && !e.target.closest('#notificationBtn')) {
                    panel.style.display = 'none';
                }
            });

            // Simuler des mises à jour en temps réel
            setInterval(simulateRealTimeUpdates, 30000);
            setInterval(updateCounter, 10000); // Mettre à jour le compteur toutes les 10 secondes

            // Animation de bienvenue
            setTimeout(() => {
                showWelcomeNotification();
            }, 1000);
        });

        // Fonction du compteur
        function updateCounter() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' });
            document.getElementById('last-update').textContent = timeString;
            
            // Animer les nombres
            animateCounter('today-orders', 48 + Math.floor(Math.random() * 3));
            animateCounter('pending-orders', 5 + Math.floor(Math.random() * 2) - 1);
            animateCounter('total-clients', 189);
            animateCounter('month-revenue', 2845 + Math.floor(Math.random() * 50));
            
            // Mettre à jour les compteurs de paiement
            const totalPayments = payments.length;
            const pendingPayments = payments.filter(p => p.status === 'pending').length;
            const successPayments = payments.filter(p => p.status === 'success').length;
            const avgAmount = payments.length > 0 
                ? (payments.reduce((sum, p) => sum + p.amount, 0) / payments.length).toFixed(1)
                : 0;
            
            animateCounter('total-payments', totalPayments);
            animateCounter('pending-payments', pendingPayments);
            animateCounter('success-payments', successPayments);
            animateCounter('avg-amount', avgAmount);
        }

        function animateCounter(elementId, targetValue) {
            const element = document.getElementById(elementId);
            const currentValue = parseInt(element.textContent.replace('.', ''));
            
            if (currentValue !== targetValue) {
                let startValue = currentValue;
                let duration = 1000;
                let startTime = null;
                
                function animate(timestamp) {
                    if (!startTime) startTime = timestamp;
                    const progress = timestamp - startTime;
                    const percentage = Math.min(progress / duration, 1);
                    
                    const easedPercentage = 1 - Math.pow(1 - percentage, 3); // Easing
                    const current = Math.floor(startValue + (targetValue - startValue) * easedPercentage);
                    
                    element.textContent = elementId === 'month-revenue' || elementId === 'avg-amount' 
                        ? current.toFixed(1)
                        : current.toString();
                    
                    if (percentage < 1) {
                        requestAnimationFrame(animate);
                    }
                }
                
                requestAnimationFrame(animate);
            }
        }

        // Fonctions de chargement
        function loadClients() {
            const tbody = document.getElementById('clients-table');
            tbody.innerHTML = '';
            
            clients.forEach(client => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${client.id}</td>
                    <td><strong>${client.name}</strong></td>
                    <td>${client.email}</td>
                    <td>${client.phone}</td>
                    <td><span style="background: var(--primary-light); padding: 0.3rem 0.6rem; border-radius: 20px;">${client.city}</span></td>
                    <td><span style="color: var(--primary-color); font-weight: bold;">${client.orders}</span></td>
                    <td>
                        <button class="action-btn" onclick="editClient(${client.id})" title="Modifier">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="action-btn" onclick="deleteClient(${client.id})" title="Supprimer">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function loadProducts() {
            const tbody = document.getElementById('products-table');
            tbody.innerHTML = '';
            
            products.forEach(product => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <img src="${product.image}" alt="${product.name}" class="product-image" 
                             onerror="this.src='https://images.unsplash.com/photo-1541364983171-a8ba01e95cfc?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80'">
                    </td>
                    <td>
                        <div class="product-card">
                            <div>
                                <strong>${product.name}</strong>
                                <div style="font-size: 0.9rem; color: var(--gray-color); margin-top: 0.2rem;">${product.description || ''}</div>
                            </div>
                        </div>
                    </td>
                    <td>
                        <span style="background: ${getCategoryColor(product.category)}; color: white; padding: 0.3rem 0.8rem; border-radius: 20px; font-size: 0.9rem;">
                            ${product.category}
                        </span>
                    </td>
                    <td><strong style="color: var(--primary-color);">${product.price.toFixed(2)} DT</strong></td>
                    <td>
                        <span style="color: ${product.stock < 50 ? 'var(--accent-color)' : 'var(--success-color)'}; font-weight: bold;">
                            ${product.stock} unités
                        </span>
                    </td>
                    <td>
                        <button class="action-btn" onclick="editProduct(${product.id})" title="Modifier">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="action-btn" onclick="deleteProduct(${product.id})" title="Supprimer">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function loadOrders() {
            const tbody = document.getElementById('orders-table');
            tbody.innerHTML = '';
            
            orders.forEach(order => {
                const statusClass = `status-${order.status}`;
                const statusText = getStatusText(order.status);
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong style="color: var(--primary-color);">#${order.id}</strong></td>
                    <td><strong>${order.clientName}</strong></td>
                    <td>${order.date}</td>
                    <td><strong style="color: var(--success-color);">${order.total.toFixed(2)} DT</strong></td>
                    <td><span class="status ${statusClass}">${statusText}</span></td>
                    <td>
                        <button class="action-btn" onclick="viewOrder(${order.id})" title="Voir">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="action-btn" onclick="editOrder(${order.id})" title="Modifier">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="action-btn" onclick="deleteOrder(${order.id})" title="Supprimer">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function loadPayments() {
            const tbody = document.getElementById('payments-table');
            tbody.innerHTML = '';
            
            payments.forEach(payment => {
                const statusColor = payment.status === 'success' ? 'var(--success-color)' : 
                                  payment.status === 'pending' ? 'var(--warning-color)' : 'var(--danger-color)';
                const statusText = payment.status === 'success' ? 'Réussi' : 
                                  payment.status === 'pending' ? 'En attente' : 'Échoué';
                const methodText = getPaymentMethodText(payment.method);
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>#${payment.id}</td>
                    <td>${payment.date}</td>
                    <td>${payment.client}</td>
                    <td><strong style="color: var(--primary-color);">${payment.amount.toFixed(2)} DT</strong></td>
                    <td>${methodText}</td>
                    <td><span style="color: ${statusColor}; font-weight: 600;">${statusText}</span></td>
                `;
                tbody.appendChild(row);
            });
        }

        function loadHistory() {
            const tbody = document.getElementById('history-table');
            tbody.innerHTML = '';
            
            history.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><span style="color: var(--primary-color);">${item.date}</span></td>
                    <td><strong>${item.user}</strong></td>
                    <td><span style="background: var(--primary-light); padding: 0.3rem 0.8rem; border-radius: 20px;">${item.action}</span></td>
                    <td>${item.details}</td>
                `;
                tbody.appendChild(row);
            });
        }

        function loadRecentActivity() {
            const tbody = document.getElementById('recent-activity');
            tbody.innerHTML = '';
            
            // Prendre les 5 dernières commandes
            const recentOrders = orders.slice(0, 5);
            
            recentOrders.forEach(order => {
                const statusClass = `status-${order.status}`;
                const statusText = getStatusText(order.status);
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong>${order.clientName}</strong></td>
                    <td>Commande #${order.id}</td>
                    <td>${order.date}</td>
                    <td><strong style="color: var(--primary-color);">${order.total.toFixed(2)} DT</strong></td>
                    <td><span class="status ${statusClass}">${statusText}</span></td>
                `;
                tbody.appendChild(row);
            });
        }

        function loadNotifications() {
            const container = document.getElementById('notifications-list');
            container.innerHTML = '';
            
            notifications.forEach(notif => {
                const item = document.createElement('div');
                item.className = `notification-item ${notif.read ? '' : 'unread'}`;
                item.innerHTML = `
                    <div class="notification-icon ${notif.type}">
                        <i class="fas fa-${notif.type === 'success' ? 'check' : notif.type === 'warning' ? 'exclamation' : 'info-circle'}"></i>
                    </div>
                    <div style="flex: 1;">
                        <div style="font-weight: 600; color: var(--dark-color);">${notif.message}</div>
                        <div style="font-size: 0.8rem; color: var(--gray-color); margin-top: 0.3rem;">${notif.time}</div>
                    </div>
                `;
                container.appendChild(item);
            });
        }

        // Fonctions utilitaires
        function getCategoryColor(category) {
            const colors = {
                'Chien': '#3498db',
                'Chat': '#e74c3c',
                'Oiseau': '#f39c12',
                'Rongeur': '#2ecc71',
                'Poisson': '#9b59b6'
            };
            return colors[category] || '#3498db';
        }

        function getStatusText(status) {
            const statusMap = {
                'pending': 'En attente',
                'processing': 'En traitement',
                'delivered': 'Livré',
                'cancelled': 'Annulé'
            };
            return statusMap[status] || status;
        }

        function getPaymentMethodText(method) {
            const methodMap = {
                'carte': 'Carte Bancaire',
                'paypal': 'PayPal',
                'livraison': 'À la livraison',
                'mobile': 'Mobile Money'
            };
            return methodMap[method] || method;
        }

        function showWelcomeNotification() {
            const hour = new Date().getHours();
            let greeting = "Bonjour";
            if (hour < 12) greeting = "Bonjour";
            else if (hour < 18) greeting = "Bon après-midi";
            else greeting = "Bonsoir";
            
            console.log(`${greeting} EL Jezi Ghassen ! Prêt à gérer vos animaux ? 🐾`);
        }

        // CRUD Functions
        function saveClient(e) {
            e.preventDefault();
            
            const id = document.getElementById('clientId').value;
            const name = document.getElementById('clientName').value;
            const email = document.getElementById('clientEmail').value;
            const phone = document.getElementById('clientPhone').value;
            const address = document.getElementById('clientAddress').value;
            const city = document.getElementById('clientCity').value;
            
            if (id) {
                // Mise à jour
                const index = clients.findIndex(c => c.id == id);
                clients[index] = { ...clients[index], name, email, phone, address, city };
                addToHistory("Modification client", `Client ${name} modifié`);
            } else {
                // Ajout
                const newId = clients.length > 0 ? Math.max(...clients.map(c => c.id)) + 1 : 1;
                clients.push({ 
                    id: newId, 
                    name, 
                    email, 
                    phone, 
                    address, 
                    city,
                    orders: 0 
                });
                addToHistory("Ajout client", `Nouveau client: ${name}`);
                
                // Notification
                addNotification('info', `Nouveau client ajouté: ${name}`);
                updateNotificationCount();
            }
            
            loadClients();
            closeAllModals();
            updateClientsBadge();
        }

        function saveProduct(e) {
            e.preventDefault();
            
            const id = document.getElementById('productId').value;
            const name = document.getElementById('productName').value;
            const image = document.getElementById('productImage').value || 
                         'https://images.unsplash.com/photo-1541364983171-a8ba01e95cfc?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80';
            const category = document.getElementById('productCategory').value;
            const price = parseFloat(document.getElementById('productPrice').value);
            const stock = parseInt(document.getElementById('productStock').value);
            const description = document.getElementById('productDescription').value;
            
            if (id) {
                // Mise à jour
                const index = products.findIndex(p => p.id == id);
                products[index] = { ...products[index], name, image, category, price, stock, description };
                addToHistory("Modification produit", `Produit ${name} modifié`);
            } else {
                // Ajout
                const newId = products.length > 0 ? Math.max(...products.map(p => p.id)) + 1 : 1;
                products.push({ 
                    id: newId, 
                    name, 
                    image, 
                    category, 
                    price, 
                    stock, 
                    description 
                });
                addToHistory("Ajout produit", `Nouveau produit: ${name}`);
            }
            
            loadProducts();
            closeAllModals();
        }

        // Paiement Functions
        function selectPaymentMethod(method) {
            selectedPaymentMethod = method;
            
            // Mettre à jour l'affichage
            document.querySelectorAll('.payment-method').forEach(el => {
                el.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            console.log(`Méthode de paiement sélectionnée: ${getPaymentMethodText(method)}`);
        }

        function processPayment() {
            const amount = document.getElementById('paymentAmount').value;
            const reference = document.getElementById('paymentReference').value;
            
            if (!amount || amount <= 0) {
                alert('Veuillez entrer un montant valide');
                return;
            }
            
            if (!reference) {
                alert('Veuillez entrer une référence de commande');
                return;
            }
            
            // Simuler le traitement du paiement
            const paymentId = payments.length > 0 ? Math.max(...payments.map(p => p.id)) + 1 : 1;
            const today = new Date().toISOString().split('T')[0];
            
            // Trouver le client associé à la commande
            const order = orders.find(o => o.id == parseInt(reference.replace('#', '')));
            const clientName = order ? order.clientName : "Client inconnu";
            
            // Ajouter le paiement
            payments.unshift({
                id: paymentId,
                date: today,
                client: clientName,
                amount: parseFloat(amount),
                method: selectedPaymentMethod,
                status: 'success'
            });
            
            // Notification
            addNotification('success', `Paiement de ${amount} DT réussi pour ${reference}`);
            updateNotificationCount();
            
            // Mettre à jour l'affichage
            loadPayments();
            updateCounter();
            
            // Réinitialiser le formulaire
            document.getElementById('paymentAmount').value = '';
            document.getElementById('paymentReference').value = '';
            
            // Afficher un message de confirmation
            alert(`Paiement de ${amount} DT effectué avec succès !\nMéthode: ${getPaymentMethodText(selectedPaymentMethod)}\nRéférence: ${reference}`);
        }

        function generateInvoice() {
            const amount = document.getElementById('paymentAmount').value;
            const reference = document.getElementById('paymentReference').value;
            
            if (!amount || amount <= 0) {
                alert('Veuillez entrer un montant valide');
                return;
            }
            
            alert(`Facture générée pour ${amount} DT\nRéférence: ${reference}\n\nLa facture sera disponible au téléchargement.`);
        }

        function exportPayments() {
            alert('Exportation des paiements en cours...\nUn fichier CSV sera téléchargé.');
            // Ici vous implémenteriez l'export réel
        }

        // UI Functions
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        }

        function closeAllModals() {
            document.querySelectorAll('.modal').forEach(modal => {
                modal.style.display = 'none';
            });
            
            // Réinitialiser les formulaires
            document.querySelectorAll('form').forEach(form => form.reset());
            document.getElementById('clientId').value = '';
            document.getElementById('productId').value = '';
            document.getElementById('modalTitle').textContent = 'Ajouter un client';
        }

        function toggleNotifications() {
            const panel = document.getElementById('notificationsPanel');
            panel.style.display = panel.style.display === 'block' ? 'none' : 'block';
        }

        function addNotification(type, message) {
            const now = new Date();
            const time = now.toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' });
            
            notifications.unshift({
                id: notifications.length + 1,
                type,
                message,
                time: `À ${time}`,
                read: false
            });
            
            loadNotifications();
        }

        function markAllNotificationsAsRead() {
            notifications.forEach(notif => notif.read = true);
            loadNotifications();
            updateNotificationCount();
        }

        function updateNotificationCount() {
            const unreadCount = notifications.filter(n => !n.read).length;
            const badge = document.getElementById('notification-count');
            badge.textContent = unreadCount;
            badge.style.display = unreadCount > 0 ? 'flex' : 'none';
        }

        function updateClientsBadge() {
            const newClients = clients.filter(c => c.orders === 0).length;
            document.getElementById('clients-badge').textContent = newClients;
            document.getElementById('clients-badge').style.display = newClients > 0 ? 'flex' : 'none';
        }

        function updateOrdersBadge() {
            const pendingOrders = orders.filter(o => o.status === 'pending').length;
            document.getElementById('orders-badge').textContent = pendingOrders;
            document.getElementById('orders-badge').style.display = pendingOrders > 0 ? 'flex' : 'none';
        }

        function addToHistory(action, details) {
            const now = new Date();
            const date = now.toISOString().split('T')[0];
            const time = now.toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' });
            
            history.unshift({
                date: `${date} ${time}`,
                user: 'EL Jezi Ghassen',
                action,
                details
            });
            
            loadHistory();
        }

        function filterHistory(period) {
            alert(`Historique filtré pour: ${period}`);
            // Ici vous implémenteriez le filtrage réel
        }

        function simulateRealTimeUpdates() {
            // 30% de chance d'une nouvelle commande
            if (Math.random() < 0.3) {
                const newOrderId = orders.length > 0 ? Math.max(...orders.map(o => o.id)) + 1 : 1001;
                const today = new Date().toISOString().split('T')[0];
                const randomClient = clients[Math.floor(Math.random() * clients.length)];
                const randomTotal = (Math.random() * 100 + 20).toFixed(2);
                const statuses = ['pending', 'processing', 'delivered'];
                const randomStatus = statuses[Math.floor(Math.random() * statuses.length)];
                
                orders.unshift({
                    id: newOrderId,
                    clientId: randomClient.id,
                    clientName: randomClient.name,
                    date: today,
                    total: parseFloat(randomTotal),
                    status: randomStatus
                });
                
                // Notification
                addNotification('success', `Nouvelle commande #${newOrderId} reçue`);
                updateNotificationCount();
                updateOrdersBadge();
                
                // Mettre à jour l'affichage si on est sur le dashboard
                if (document.getElementById('dashboard').classList.contains('active')) {
                    loadRecentActivity();
                }
                
                // Animation du compteur
                const ordersCount = document.querySelector('.card:nth-child(2) .card-value');
                if (ordersCount) {
                    let count = parseInt(ordersCount.textContent) + 1;
                    ordersCount.textContent = count;
                    ordersCount.style.color = 'var(--success-color)';
                    setTimeout(() => {
                        ordersCount.style.color = 'var(--primary-color)';
                    }, 1000);
                }
            }
            
            // 20% de chance d'une alerte stock
            if (Math.random() < 0.2) {
                const randomProduct = products[Math.floor(Math.random() * products.length)];
                if (randomProduct.stock < 30) {
                    addNotification('warning', `Stock faible pour ${randomProduct.name} (${randomProduct.stock} restants)`);
                    updateNotificationCount();
                }
            }
        }

        // CRUD UI Functions
        function editClient(id) {
            const client = clients.find(c => c.id == id);
            if (!client) return;
            
            document.getElementById('modalTitle').textContent = 'Modifier le client';
            document.getElementById('clientId').value = client.id;
            document.getElementById('clientName').value = client.name;
            document.getElementById('clientEmail').value = client.email;
            document.getElementById('clientPhone').value = client.phone;
            document.getElementById('clientAddress').value = client.address || '';
            document.getElementById('clientCity').value = client.city;
            
            openModal('clientModal');
        }

        function deleteClient(id) {
            if (confirm('Êtes-vous sûr de vouloir supprimer ce client ?')) {
                clients = clients.filter(c => c.id != id);
                loadClients();
                addToHistory("Suppression client", `Client #${id} supprimé`);
                updateClientsBadge();
            }
        }

        function editProduct(id) {
            const product = products.find(p => p.id == id);
            if (!product) return;
            
            document.getElementById('productId').value = product.id;
            document.getElementById('productName').value = product.name;
            document.getElementById('productImage').value = product.image;
            document.getElementById('productCategory').value = product.category;
            document.getElementById('productPrice').value = product.price;
            document.getElementById('productStock').value = product.stock;
            document.getElementById('productDescription').value = product.description || '';
            
            openModal('productModal');
        }

        function deleteProduct(id) {
            if (confirm('Êtes-vous sûr de vouloir supprimer ce produit ?')) {
                products = products.filter(p => p.id != id);
                loadProducts();
                addToHistory("Suppression produit", `Produit #${id} supprimé`);
            }
        }

        function editOrder(id) {
            alert(`Édition de la commande #${id}\n\nCette fonctionnalité ouvrirait le formulaire de modification.`);
        }

        function deleteOrder(id) {
            if (confirm('Êtes-vous sûr de vouloir supprimer cette commande ?')) {
                orders = orders.filter(o => o.id != id);
                loadOrders();
                addToHistory("Suppression commande", `Commande #${id} supprimée`);
                updateOrdersBadge();
            }
        }

        function viewOrder(id) {
            alert(`Détails de la commande #${id}\n\nCette fonctionnalité afficherait les détails complets de la commande.`);
        }

        // Exposer les fonctions globalement
        window.editClient = editClient;
        window.deleteClient = deleteClient;
        window.editProduct = editProduct;
        window.deleteProduct = deleteProduct;
        window.editOrder = editOrder;
        window.deleteOrder = deleteOrder;
        window.viewOrder = viewOrder;
        window.selectPaymentMethod = selectPaymentMethod;
        window.processPayment = processPayment;
        window.generateInvoice = generateInvoice;
        window.exportPayments = exportPayments;
    </script>
</body>
</html>


